<link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>

<nav
    id="topNavbar"
    class="fixed top-0 left-0 bg-white shadow-md rounded-3xl my-4 ml-4 navbar-white-glow transition-all duration-500 ease-in-out z-50"
    style="width: calc(100% - 2rem);"
>
    <div class="w-full mx-0 px-0">
        <div
            id="navContent"
            class="flex items-center justify-between h-16 px-4 transition-all duration-300 ease-in-out"
        >
            <!-- Icono de hamburguesa (solo visible cuando está collapsed) -->
            <div
                id="hamburgerIcon"
                class="absolute left-1/2 transform -translate-x-1/2 opacity-0 invisible transition-all duration-300 ease-in-out cursor-pointer"
            >
                <i class="fas fa-bars text-gray-700 text-xl hover:text-black"
                ></i>
            </div>

            <div class="flex-shrink-0 ml-[40px]">
                <p
                    id="navTitle"
                    class="text-3xl font-bold text-black transition-all duration-300 ease-in-out"
                >
                    <span>PORTFOLIO</span>
                </p>
            </div>
            <div
                id="navLinks"
                class="mr-[60px] transition-all duration-300 ease-in-out overflow-hidden"
            >
                <ul class="flex space-x-20 whitespace-nowrap">
                    <li>
                        <a
                            href="#home"
                            class="nav-link text-gray-700 hover:text-black font-medium transition-colors duration-200"
                            >Home</a
                        >
                    </li>
                    <li>
                        <a
                            href="#about"
                            class="nav-link text-gray-700 hover:text-black font-medium transition-colors duration-200"
                            >About</a
                        >
                    </li>
                    <li>
                        <a
                            href="#projects"
                            class="nav-link text-gray-700 hover:text-black font-medium transition-colors duration-200"
                            >Projects</a
                        >
                    </li>
                    <li>
                        <a
                            href="#experience"
                            class="nav-link text-gray-700 hover:text-black font-medium transition-colors duration-200"
                            >Experience</a
                        >
                    </li>
                    <li>
                        <a
                            href="#skills"
                            class="nav-link text-gray-700 hover:text-black font-medium transition-colors duration-200"
                            >Skills</a
                        >
                    </li>
                    <li>
                        <a
                            href="#contact"
                            class="nav-link text-gray-700 hover:text-black font-medium transition-colors duration-200"
                            >Contact</a
                        >
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- Menú móvil desplegable -->
        <div
            id="mobileMenu"
            class="mobile-menu hidden overflow-hidden transition-all duration-300 ease-in-out"
        >
            <ul class="flex flex-col py-4 space-y-2">
                <li>
                    <a
                        href="#home"
                        class="mobile-link block px-6 py-3 text-gray-700 hover:bg-gray-100 hover:text-black font-medium transition-colors duration-200"
                        >Home</a
                    >
                </li>
                <li>
                    <a
                        href="#about"
                        class="mobile-link block px-6 py-3 text-gray-700 hover:bg-gray-100 hover:text-black font-medium transition-colors duration-200"
                        >About</a
                    >
                </li>
                <li>
                    <a
                        href="#projects"
                        class="mobile-link block px-6 py-3 text-gray-700 hover:bg-gray-100 hover:text-black font-medium transition-colors duration-200"
                        >Projects</a
                    >
                </li>
                <li>
                    <a
                        href="#experience"
                        class="mobile-link block px-6 py-3 text-gray-700 hover:bg-gray-100 hover:text-black font-medium transition-colors duration-200"
                        >Experience</a
                    >
                </li>
                <li>
                    <a
                        href="#skills"
                        class="mobile-link block px-6 py-3 text-gray-700 hover:bg-gray-100 hover:text-black font-medium transition-colors duration-200"
                        >Skills</a
                    >
                </li>
                <li>
                    <a
                        href="#contact"
                        class="mobile-link block px-6 py-3 text-gray-700 hover:bg-gray-100 hover:text-black font-medium transition-colors duration-200"
                        >Contact</a
                    >
                </li>
            </ul>
        </div>
    </div>
</nav>

<style>
    .navbar-white-glow {
        box-shadow:
            0 0 10px rgba(255, 255, 255, 0.55),
            0 0 20px rgba(255, 255, 255, 0.35),
            0 0 30px rgba(255, 255, 255, 0.25);
    }

    /* Estado contraído del navbar - se contrae desde la derecha */
    .navbar-collapsed {
        width: 60px !important;
    }

    .navbar-collapsed #navContent {
        padding: 0.75rem;
    }

    /* Mostrar icono de hamburguesa cuando está collapsed */
    .navbar-collapsed #hamburgerIcon {
        opacity: 1 !important;
        visibility: visible !important;
    }

    /* Mantener visible el icono (X) cuando está en modo manual expandido */
    .navbar-manual-expanded #hamburgerIcon {
        opacity: 1 !important;
        visibility: visible !important;
        position: absolute !important;
        left: 1.5rem !important; 
        top: 50% !important;
        transform: translateY(-50%) !important;
        transition: none !important;
    }

    .navbar-collapsed #navTitle {
        opacity: 0;
        visibility: hidden;
        width: 0;
        margin-left: 0;
        overflow: hidden;
        transition: all 0.3s ease-in-out;
    }

    .navbar-collapsed #navLinks {
        opacity: 0;
        visibility: hidden;
        width: 0;
        margin-right: 0;
        overflow: hidden;
        transition: all 0.3s ease-in-out;
    }

    #navLinks {
        transition: all 0.3s ease-in-out;
    }

    #navTitle {
        transition: all 0.3s ease-in-out;
    }

    /* Estilo del icono de hamburguesa */
    #hamburgerIcon {
        transition:
            opacity 0.4s ease-in-out,
            visibility 0.4s ease-in-out;
    }

    #hamburgerIcon:hover i {
        transform: scale(1.1);
        transition: transform 0.2s ease-in-out;
    }

    /* Estados especiales de scroll */
    .navbar-hidden {
        transform: translateY(-100%);
    }

    .navbar-visible {
        transform: translateY(0);
    }

    /* Padding-top al body para compensar el navbar fijo */
    :global(body) {
        padding-top: 5rem;
    }

    /* Menú móvil */
    .mobile-menu {
        max-height: 0;
        opacity: 0;
    }

    .mobile-menu.show {
        max-height: 400px;
        opacity: 1;
    }

    /* Responsive para móvil */
    @media (max-width: 768px) {
        nav {
            margin: 0.5rem;
            width: calc(100% - 1rem) !important;
            border-radius: 1rem;
        }

        #navContent {
            height: 3.5rem;
            padding: 0 1rem;
        }

        #navTitle {
            font-size: 1.5rem;
            margin-left: 0 !important;
        }

        /* Ocultar los links del desktop en móvil */
        #navLinks {
            display: none !important;
        }

        /* Mostrar el icono hamburguesa siempre en móvil */
        #hamburgerIcon {
            opacity: 1 !important;
            visibility: visible !important;
            position: absolute;
            right: 1rem;
            left: auto !important;
            transform: none !important;
        }

        /* Ajustar el menú móvil */
        .mobile-menu {
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .mobile-link {
            text-align: center;
        }

        /* Deshabilitar el comportamiento de colapso en móvil */
        .navbar-collapsed {
            width: calc(100% - 1rem) !important;
        }

        .navbar-collapsed #navTitle {
            opacity: 1 !important;
            visibility: visible !important;
            width: auto !important;
        }

        .navbar-collapsed #hamburgerIcon {
            opacity: 1 !important;
            visibility: visible !important;
        }
    }

    @media (max-width: 480px) {
        #navTitle {
            font-size: 1.25rem;
        }

        #hamburgerIcon i {
            font-size: 1.25rem;
        }
    }
</style>

<script src="../scripts/topNavbar.js"></script>
