<link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>

<nav
    id="topNavbar"
    class="fixed top-0 left-0 bg-white shadow-md rounded-3xl my-4 ml-4 navbar-white-glow transition-all duration-500 ease-in-out z-50"
    style="width: calc(100% - 2rem);"
>
    <div class="w-full mx-0 px-0">
        <div
            id="navContent"
            class="flex items-center justify-between h-16 px-4 transition-all duration-300 ease-in-out"
        >
            <!-- Icono de hamburguesa (solo visible cuando está collapsed) -->
            <div
                id="hamburgerIcon"
                class="absolute left-1/2 transform -translate-x-1/2 opacity-0 invisible transition-all duration-300 ease-in-out cursor-pointer"
            >
                <i class="fas fa-bars text-gray-700 text-xl hover:text-black"
                ></i>
            </div>

            <div class="flex-shrink-0 ml-[40px]">
                <p
                    id="navTitle"
                    class="text-3xl font-bold text-black transition-all duration-300 ease-in-out"
                >
                    <span>PORTFOLIO</span>
                </p>
            </div>
            <div
                id="navLinks"
                class="mr-[60px] transition-all duration-300 ease-in-out overflow-hidden"
            >
                <ul class="flex space-x-20 whitespace-nowrap">
                    <li>
                        <a
                            href="#home"
                            class="text-gray-700 hover:text-black font-medium transition-colors duration-200"
                            >Home</a
                        >
                    </li>
                    <li>
                        <a
                            href="#about"
                            class="text-gray-700 hover:text-black font-medium transition-colors duration-200"
                            >About</a
                        >
                    </li>
                    <li>
                        <a
                            href="#projects"
                            class="text-gray-700 hover:text-black font-medium transition-colors duration-200"
                            >Projects</a
                        >
                    </li>
                    <li>
                        <a
                            href="#experience"
                            class="text-gray-700 hover:text-black font-medium transition-colors duration-200"
                            >Experience</a
                        >
                    </li>
                    <li>
                        <a
                            href="#skills"
                            class="text-gray-700 hover:text-black font-medium transition-colors duration-200"
                            >Skills</a
                        >
                    </li>
                    <li>
                        <a
                            href="#contact"
                            class="text-gray-700 hover:text-black font-medium transition-colors duration-200"
                            >Contact</a
                        >
                    </li>
                </ul>
            </div>
        </div>
    </div>
</nav>

<style>
    .navbar-white-glow {
        box-shadow:
            0 0 10px rgba(255, 255, 255, 0.55),
            0 0 20px rgba(255, 255, 255, 0.35),
            0 0 30px rgba(255, 255, 255, 0.25);
    }

    /* Estado contraído del navbar - se contrae desde la derecha */
    .navbar-collapsed {
        width: 60px !important;
    }

    .navbar-collapsed #navContent {
        padding: 0.75rem;
    }

    /* Mostrar icono de hamburguesa cuando está collapsed */
    .navbar-collapsed #hamburgerIcon {
        opacity: 1 !important;
        visibility: visible !important;
    }

    /* Mantener visible el icono (X) cuando está en modo manual expandido */
    .navbar-manual-expanded #hamburgerIcon {
        opacity: 1 !important;
        visibility: visible !important;
        position: absolute !important;
        left: 1.5rem !important; 
        top: 50% !important;
        transform: translateY(-50%) !important;
        transition: none !important;
    }

    .navbar-collapsed #navTitle {
        opacity: 0;
        visibility: hidden;
        width: 0;
        margin-left: 0;
        overflow: hidden;
        transition: all 0.3s ease-in-out;
    }

    .navbar-collapsed #navLinks {
        opacity: 0;
        visibility: hidden;
        width: 0;
        margin-right: 0;
        overflow: hidden;
        transition: all 0.3s ease-in-out;
    }

    /* Transición suave para los links y título cuando aparecen */
    #navLinks {
        transition: all 0.3s ease-in-out;
    }

    #navTitle {
        transition: all 0.3s ease-in-out;
    }

    /* Estilo del icono de hamburguesa */
    #hamburgerIcon {
        transition:
            opacity 0.4s ease-in-out,
            visibility 0.4s ease-in-out;
    }

    #hamburgerIcon:hover i {
        transform: scale(1.1);
        transition: transform 0.2s ease-in-out;
    }

    /* Estados especiales de scroll */
    .navbar-hidden {
        transform: translateY(-100%);
    }

    .navbar-visible {
        transform: translateY(0);
    }

    /* Padding-top al body para compensar el navbar fijo */
    :global(body) {
        padding-top: 5rem;
    }

    /* TODO LO RESPONSIVE DE MOVIL SE DEJARA PARA MAS ADELANTE */
    /* Responsive adjustments */
    @media (max-width: 768px) {
        .navbar-collapsed {
            width: 80px !important;
        }

        .navbar-collapsed #navTitle {
            opacity: 0;
            visibility: hidden;
            width: 0;
            margin-left: 0;
        }

        /* En móviles, mantener los links visibles pero más pequeños */
        .navbar-collapsed #navLinks {
            opacity: 1;
            visibility: visible;
            width: auto;
            margin-right: 10px;
        }

        .navbar-collapsed #navLinks ul {
            gap: 0.5rem;
        }

        .navbar-collapsed #navLinks ul li a {
            font-size: 0.75rem;
        }
    }

    @media (max-width: 480px) {
        .navbar-collapsed {
            width: 60px !important;
        }

        .navbar-collapsed #navTitle {
            opacity: 0;
            visibility: hidden;
            width: 0;
        }

        .navbar-collapsed #navLinks {
            opacity: 0;
            visibility: hidden;
            width: 0;
        }
    }
</style>

<script src="../scripts/topNavbar.js"></script>
